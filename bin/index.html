<html>
<head>
	<style>
		.expected {
			border: 1px solid grey;
		}
		.outcome {
			border: 1px solid silver;
		}
		
		.pass,
		.outcome > :not(css-data),
		.outcome > :not(json-data),
		.outcome > :not(move-tags),
		.outcome > :not(spec-bubbling),
		.outcome > :not(spec-capturing) {
			background: lime;
		}
		.error,
		.outcome > css-data,
		.outcome > json-data,
		.outcome > move-tags,
		.outcome > spec-bubbling,
		.outcome > spec-capturing {
			background: red;
		}
		
		.css.data .test.data {
			display: none;
		}
	</style>
	<script>
	var specValues = [1, 2, 3, 4, 5];
	var json_data = {
		"single":{
			"value":"world"
		},
		"deep":{
			"a":{
				"next":"b",
				"b":{
					"next":"c",
					"c":"123"
				}
			}
		},
		"collection":[
			"a1", "a2", "b1", "b2", "c1", "c2"
		],
		"people":[
			{"name":"foo", "age":1},
			{"name":"bar", "age":2}
		],
		"person":{"name":"baz", "age":3},
		"round":{
			"about":{
				"selector":".people"
			}
		},
		"a1": "foo a1",
		"a2": "foo a2",
		"b1": "foo b1",
		"b2": "foo b2",
		"c1": "foo c1",
		"c2": "foo c2"
	}
	</script>
	<script src="spec.js"></script>
	<link href="bubbling.html" rel="import" />
	<link href="capturing.html" rel="import" />
	<link href="convert.tag.html" rel="import" />
	<link href="json.data.html" rel="import" />
	<link href="css.data.html" rel="import" />
	<link href="move.tags.html" rel="import" />
</head>
<body>
	<h1>Pati Component Tests</h1>
	<blockquote>
		<p>
			<em>Pati</em> is Haitian Creole for <em>Part</em>.
		</p>
	</blockquote>
	<section class="spec bubbling">
		<h2>Bubbling Phase</h2>
		<div class="expected">
			<p>Expected: 5 4 3 2 1</p>
		</div>
		<div class="outcome">
			<p>Outcome: 
				<spec-bubbling>
					<spec-bubbling>
						<spec-bubbling>
							<spec-bubbling>
								<spec-bubbling></spec-bubbling>
							</spec-bubbling>
						</spec-bubbling>
					</spec-bubbling>
				</spec-bubbling>
			</p>
		</div>
	</section>
	<section class="spec capturing">
		<h2>Capturing Phase</h2>
		<div class="expected">
			<p>Expected: 1 2 3 4 5</p>
		</div>
		<div class="outcome">
			<p>Outcome: 
				<spec-capturing>
					<spec-capturing>
						<spec-capturing>
							<spec-capturing>
								<spec-capturing></spec-capturing>
							</spec-capturing>
						</spec-capturing>
					</spec-capturing>
				</spec-capturing>
			</p>
		</div>
	</section>
	<section class="convert tag">
		<h2>Convert Tag</h2>
		<div class="expected">
			<p class="silly">A silly example.</p>
			<ul class="silly bunch">
				<li>
					<p>Silly One</p>
				</li>
				<li>
					<p>Silly Two</p>
				</li>
			</ul>
		</div>
		<div class="outcome">
			<convert-tag to:p class="silly">A silly example.</convert-tag>
			<convert-tag to:ul class="silly bunch">
				<convert-tag to:li>
					<convert-tag to:p>Silly One</convert-tag>
				</convert-tag>
				<convert-tag to:li>
					<convert-tag to:p>Silly Two</convert-tag>
				</convert-tag>
			</convert-tag>
		</div>
	</section>
	<section class="json data">
		<h2>Json Data</h2>
		<div class="expected">
			<div>
				hello
				world
			</div>
			<div class="dud">
				hello static world
			</div>
			<p id="1">hello world</p>
			<ul id="2">
				<li class="foo" id="age-1">
					foo is 1 years old.
				</li>
				<li class="bar" id="age-2">
					bar is 2 years old.
				</li>
			</ul>
			<ul id="3">
				<li class="baz" id="age-3">
					baz is 3 years old.
				</li>
			</ul>
			<p class="a1">
				a1
				<p class="a2">
					a2
					<p class="b1">
						b1
					</p>
				</p>
			</p>
			<h4>a1</h4>
			<ul>
				<li>I am foo a1</li>
			</ul>
			<h4>a2</h4>
			<ul>
				<li>I am foo a2</li>
			</ul>
			<h4>b1</h4>
			<ul>
				<li>I am foo b1</li>
			</ul>
			<h4>b2</h4>
			<ul>
				<li>I am foo b2</li>
			</ul>
			<h4>c1</h4>
			<ul>
				<li>I am foo c1</li>
			</ul>
			<h4>c2</h4>
			<ul>
				<li>I am foo c2</li>
			</ul>
		</div>
		<div class="outcome">
			<div>
				hello
				<json-data select=".single .value"></json-data>
			</div>
			<json-data class="dud" select=".single .value" to:div>
				<span :to="hello static world"></span>
			</json-data>
			<json-data select=".single .value" id="1" to:p>
				<span :to="hello {*}"></span>
			</json-data>
			<json-data id="2" select=".people" to:ul each>
				<li :class=".name" :id="age-{.age}">
					<span :to="{.name} is {.age} years old."></span>
				</li>
			</json-data>
			<json-data id="3" select=".person" to:ul>
				<li :class=".name" :id="age-{.age}">
					<span :to="{.name} is {.age} years old."></span>
				</li>
			</json-data>
			<json-data select=".collection" :class=":first-child" to:p>
				<span :to=":first-child"></span>
				<json-data select=":nth-child(n+2)" :class=":first-child" to:p>
					<span :to=":first-child"></span>
					<json-data select=":nth-child(n+2)" :class=":first-child" to:p>
						<span :to=":first-child"></span>
					</json-data>
				</json-data>
			</json-data>
			<json-data select=".collection" each>
				<h4><span :to="*"></span></h4>
				<ul>
					<json-data to:li :select=".{*}" :class="collection__{*}" retarget>
						<span :to="I am {*}"></span>
					</json-data>
				</ul>
			</json-data>
		</div>
	</section>
	<section class="css data">
		<h2>Css Data</h2>
		<div class="test data">
			<div class="hi">
				hello
			</div>
			<div class="hello">
				world
			</div>
		</div>
		<div class="expected">
			<div>
				hello
				<div class="hello">
					world
				</div>
			</div>
			<div>
				hello
				world
			</div>
			<div>
				hello
				world
			</div>
			<div>
				world
				hello
			</div>
			<span class="nested">hello world</span>
		</div>
		<div class="outcome">
			<div>
				<css-data select=".css.data .test.data > .hello">
					hello
				</css-data>
			</div>
			<div>
				<css-data select=".css.data .test.data > .hello" use:text>
					hello
				</css-data>
			</div>
			<css-data select=".css.data .test.data > .hello" use:text to:div>
				hello
			</css-data>
			<css-data select=".css.data .test.data > .hello" use:text to:div +:>
				hello
			</css-data>
			<css-data class="nested" select=".css.data .test.data > .hi" use:text to:span +:>
				<css-data select=".css.data .test.data > .hello" use:text></css-data>
			</css-data>
		</div>
	</section>
	<section class="move tags">
		<h2>Move Tags</h2>
		<div class="expected">
			<div class="a1">
				<p>
					hello world
				</p>
			</div>
			<div class="a2">
				<span class="silly">
					<p>Hello World</p>
				</span>
			</div>
			<div class="a3">
				<p>Hello</p>
				<p>Haxe</p>
				<p>World</p>
			</div>
		</div>
		<div class="outcome">
			<div class="a1">
				
			</div>
			<div class="a2">
				
			</div>
			<div class="a3">
				<p>Haxe</p>
			</div>
			<move-tags to=".move.tags .outcome .a1">
				<p>
					hello world
				</p>
			</move-tags>
			<move-tags to=".move.tags .outcome .a2">
				<span class="silly"></span>
				<move-tags to=".move.tags .outcome .silly">
					<p>Hello World</p>
				</move-tags>
			</move-tags>
			<move-tags to=".move.tags .outcome .a3" +:>
				<p>Hello</p>
			</move-tags>
			<move-tags to=".move.tags .outcome .a3" :+>
				<p>World</p>
			</move-tags>
		</div>
	</section>
</body>
</html>
